#include "cartesian.h"
#include <math.h"
#include <stdio.h"

grid_t *create_grid(uint64_t dim, uint64_t *N, f64 *L) {

  if (dim < 1 || dim >3) {
    fprintf(stderr, ANSI_COLOR_RED "ERROR" ANSI_COLOR_RESET
	    ": Grid dimension mst be 1, 2 or 3. Got %lu instead\n",
	    dim);
    exit(1);
  }

  for (uint64_t d = 0; d < dim; d++) {
    if (0 == N[d]) {
      fprintf(stderr, ANSI_COLOR_RED "ERROR" ANSI_COLOR_RESET
	      ": Grid size cannot be 0 in dimension %lu\n", d);
      exit(1);
    }

    if (0.0 >= L[d]) {
      fprintf(stderr, ANSI_COLOR_RED "ERROR" ANSI_COLOR_RESET
	      ": Grid length must be positive in dimension %lu\n", d);
      exit(1);
    }
  }
